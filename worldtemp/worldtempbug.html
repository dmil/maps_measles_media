<!DOCTYPE HTML>

<html>
	<head>
		<title>Generic - Theory by TEMPLATED</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" type="text/css" href="styles/multiline.css">
    	<script src="https://d3js.org/d3.v3.js" charset="utf-8"></script>
    	<link rel="stylesheet" type="text/css" href=../styles/styles.css>
    	
    	<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
	</head>
	<body class="subpage">
		<!-- Header -->
			<header id="header">
				<div class="inner">
					<a href="index.html" class="logo">Maps, Measles, and Media</a>
					<nav id="nav">
						<a href="index.html">Home</a>
						<a href="USmap.html">US Spatial</a>
						<a href="UStemp.html">US Temporal</a>
						<a href="worldmap.html">Global Spatial</a>
						<a href="worldtemp.html">Global Temporal</a>
					</nav>
					<a href="#navPanel" class="navPanelToggle"><span class="fa fa-bars"></span></a>
				</div>
			</header>
	
		<!-- Three -->
			<section id="three" class="wrapper">
				<div class="inner">
					<header class="align-center">
						<h2>Global Measles Outbreaks</h2>
						<p>WHO Data from 2011 - 2019</p>
					</header>
			
			<div class="chart-wrapper" id="chart-line1"></div>


			<!--This is the script Chevy added
			<script type="text/javascript">
				var formatDate = d3.time.format("%Y-%m%d");
    					
    			d3.csv('world_temp.csv', function(error, data) {
    					
    				data.forEach(function (d) {
	        			d.year = formatDate.parse(d.year);
	        			d.Angola = +d.Angola;
	        			d.Burundi = +d.Burundi;
	        			d.Benin = +d.Benin;
	        			d.Burkina_Faso = +d.Burkina_Faso;
	       				d.Botswana = +d.Botswana;
	       				d.Central_African_Republic = +d.Central_African_Republic;
	       				d.Cote_d_Ivoire = +d.Cote_d_Ivoire;
	       				d.Cameroon = +d.Cameroon;
	       				d.Democratic_Republic_of_the_Congo = +d.Democratic_Republic_of_the_Congo;
	       				d.Congo = +d.Congo;
	       				d.Comoros = +d.Comoros;
	       				d.Cabo_Verde = +d.Cabo_Verde;
	        			d.Algeria = +d.Algeria;
	        			d.Eritrea = +d.Eritrea;
	        			d.Ethiopia = +d.Ethiopia;
	        			d.Gabon = +d.Gabon;
	       				d.Ghana = +d.Ghana;
	       				d.Guinea = +d.Guinea;
	       				d.Gambia = +d.Gambia;
						d.Guinea-Bissau = +d.Guinea-Bissau;
						d.Equatorial_Guinea = +d.Equatorial_Guinea;
						d.Kenya = +d.Kenya;
						d.Liberia = +d.Liberia;
						d.Lesotho = +d.Lesotho;
						d.Madagascar = +d.Madagascar;
						d.Mali = +d.Mali;
						d.Mozambique = +d.Mozambique;
						d.Mauritania = +d.Mauritania;							
						d.Mauritius = +d.Mauritius;
						d.Malawi = +d.Malawi;
						d.Namibia = +d.Namibia;
						d.Niger = +d.Niger;
						d.Nigeria = +d.Nigeria;
						d.Rwanda = +d.Rwanda;
						d.Senegal = +d.Senegal;
						d.Sierra_Leone = +d.Sierra_Leone;
						d.South_Sudan = +d.South_Sudan;
						d.Sao_Tome_and_Principe = +d.Sao_Tome_and_Principe;
						d.Kingdom_of_Eswatini = +d.Kingdom_of_Eswatini;
						d.Seychelles = +d.Seychelles;
						d.Chad = +d.Chad;
						d.Togo = +d.Togo;
						d.United_Republic_of_Tanzania = +d.United_Republic_of_Tanzania;
						d.Uganda = +d.Uganda;
						d.South_Africa = +d.South_Africa;
						d.Zambia = +d.Zambia;
						d.Zimbabwe = +d.Zimbabwe;
						d.Argentina = +d.Argentina;
						d.Antigua_and_Barbuda = +d.Antigua_and_Barbuda;
						d.Bahamas = +d.Bahamas;
						d.Belize = +d.Belize;
						d.Bolivia = +d.Bolivia;
						d.Brazil = +d.Brazil;
						d.Barbados = +d.Barbados;
						d.Canada = +d.Canada;
						d.Chile = +d.Chile;
						d.Colombia = +d.Colombia;
						d.Costa_Rica = +d.Costa_Rica;
						d.Cuba = +d.Cuba;
						d.Dominica = +d.Dominica;
						d.Dominican_Republic = +d.Dominican_Republic;
						d.Ecuador = +d.Ecuador;
						d.Grenada = +d.Grenada;
						d.Guatemala = +d.Guatemala;
						d.Guyana = +d.Guyana;
						d.Honduras = +d.Honduras;
						d.Haiti = +d.Haiti;
						d.Jamaica = +d.Jamaica;
						d.Saint_Kitts_and_Nevis = +d.Saint_Kitts_and_Nevis;
						d.Saint_Lucia = +d.Saint_Lucia;
						d.Mexico = +d.Mexico;
						d.Nicaragua = +d.Nicaragua;
						d.Panama = +d.Panama;
						d.Peru = +d.Peru;
						d.Paraguay = +d.Paraguay;
						d.El_Salvador = +d.El_Salvador;
						d.Suriname = +d.Suriname;
						d.Trinidad_and_Tobago = +d.Trinidad_and_Tobago;
						d.Uruguay = +d.Uruguay;
						d.United_States_of_America = +d.United_States_of_America;
						d.Saint_Vincent_and_the_Grenadines = +d.Saint_Vincent_and_the_Grenadines;
						d.Venezuela = +d.Venezuela;
						d.Afghanistan = +d.Afghanistan;
						d.United_Arab_Emirates = +d.United_Arab_Emirates;
						d.Bahrain = +d.Bahrain;
						d.Djibouti = +d.Djibouti;
						d.Egypt = +d.Egypt;
						d.Iran= +d.Iran;
						d.Iraq = +d.Iraq;
						d.Jordan = +d.Jordan;
						d.Kuwait = +d.Kuwait;
						d.Lebanon = +d.Lebanon;
						d.Libya = +d.Libya;
						d.Morocco = +d.Morocco;
						d.Oman = +d.Oman;
						d.Pakistan = +d.Pakistan;
						d.Qatar = +d.Qatar;
						d.Saudi_Arabia = +d.Saudi_Arabia;
						d.Sudan = +d.Sudan;
						d.Somalia = +d.Somalia;
						d.Syrian_Arab_Republic = +d.Syrian_Arab_Republic;
						d.Tunisia = +d.Tunisia;
						d.Yemen = +d.Yemen;
						d.Albania = +d.Albania;
						d.Andorra = +d.Andorra;
						d.Armenia = +d.Armenia;
						d.Austria = +d.Austria;
						d.Azerbaijan = +d.Azerbaijan;
						d.Belgium = +d.Belgium;
						d.Bulgaria = +d.Bulgaria;
						d.Bosnia_and_Herzegovina = +d.Bosnia_and_Herzegovina;
						d.Belarus = +d.Belarus;
						d.Switzerland = +d.Switzerland;
						d.Cyprus = +d.Cyprus;
						d.Czech_Republic = +d.Czech_Republic;
						d.Germany = +d.Germany;
						d.Denmark = +d.Denmark;
						d.Spain = +d.Spain;
						d.Estonia = +d.Estonia;
						d.Finland = +d.Finland;
						d.France = +d.France;
						d.United_Kingdom_of_Great_Britain_and_Northern_Ireland = +d.United_Kingdom_of_Great_Britain_and_Northern_Ireland;
						d.Georgia = +d.Georgia;
						d.Greece = +d.Greece;
						d.Croatia = +d.Croatia;
						d.Hungary = +d.Hungary;
						d.Ireland = +d.Ireland;
						d.Iceland = +d.Iceland;
						d.Israel = +d.Israel;
						d.Italy = +d.Italy;
						d.Kazakhstan = +d.Kazakhstan;
						d.Kyrgyzstan = +d.Kyrgyzstan;
						d.Lithuania = +d.Lithuania;
						d.Luxembourg = +d.Luxembourg;
						d.Latvia = +d.Latvia;
						d.Monaco = +d.Monaco;
						d.Republic_of_Moldova = +d.Republic_of_Moldova;
						d.The_Republic_of_North_Macedonia_ = +d.The_Republic_of_North_Macedonia_;
						d.Malta = +d.Malta;
						d.Montenegro = +d.Montenegro;
						d.Netherlands = +d.Netherlands;
						d.Norway = +d.Norway;
						d.Poland = +d.Poland;
						d.Portugal = +d.Portugal;
						d.Romania = +d.Romania;
						d.Russian_Federation = +d.Russian_Federation;
						d.San_Marino = +d.San_Marino;
						d.Serbia = +d.Serbia;
						d.Slovakia = +d.Slovakia;
						d.Slovenia = +d.Slovenia;
						d.Sweden = +d.Sweden;
						d.Tajikistan = +d.Tajikistan;
						d.Turkmenistan = +d.Turkmenistan;
						d.Turkey = +d.Turkey;
						d.Ukraine = +d.Ukraine;
						d.Uzbekistan = +d.Uzbekistan;
						d.Bangladesh = +d.Bangladesh;
						d.Bhutan = +d.Bhutan;
						d.Indonesia = +d.Indonesia;
						d.India = +d.India;
						d.Sri_Lanka = +d.Sri_Lanka;
						d.Maldives = +d.Maldives;
						d.Myanmar = +d.Myanmar;
						d.Nepal = +d.Nepal;
						d.Democratic_People_s_Republic_of_Korea = +d.Democratic_People_s_Republic_of_Korea;
						d.Thailand = +d.Thailand;
						d.Timor-Leste = +d.Timor-Leste;
						d.Australia = +d.Australia;
						d.Brunei_Darussalam = +d.Brunei_Darussalam;
						d.China = +d.China;
						d.Cook_Islands = +d.Cook_Islands;
						d.Fiji = +d.Fiji;
						d.Micronesia = +d.Micronesia;
						d.Japan = +d.Japan;
						d.Cambodia = +d.Cambodia;
						d.Kiribati = +d.Kiribati;
						d.Republic_of_Korea = +d.Republic_of_Korea;
						d.Lao_People_s_Democratic_Republic = +d.Lao_People_s_Democratic_Republic;
						d.Marshall_Islands = +d.Marshall_Islands;
						d.Mongolia = +d.Mongolia;
						d.Malaysia = +d.Malaysia;
						d.Niue = +d.Niue;
						d.Nauru = +d.Nauru;
						d.New_Zealand = +d.New_Zealand;	
						d.Philippines = +d.Philippines;
						d.Palau = +d.Palau;
						d.Papua_New_Guinea = +d.Papua_New_Guinea;
						d.Singapore = +d.Singapore;
						d.Solomon_Islands = +d.Solomon_Islands;
						d.Tonga = +d.Tonga;
						d.Tuvalu = +d.Tuvalu;
						d.Viet_Nam = +d.Viet_Nam;
						d.Vanuatu = +d.Vanuatu;
						d.Samoa = +d.Samoa;
    				});

					var chart = makeLineChart(data, 'year', {
					    'Angola': {column: 'Angola'},
						'Burundi': {column: 'Burundi'},
						'Benin': {column: 'Benin'},
						'Burkina Faso': {column: 'Burkina_Faso'},
						'Botswana': {column: 'Botswana'},
						'Central African Republic': {column: 'Central_African_Republic'},
						'Cote dIvoire': {column: 'Cote_d_Ivoire'},
						'Cameroon': {column: 'Cameroon'},
						'Democratic Republic of the Congo': {column: 'Democratic_Republic_of_the_Congo'},
						'Congo': {column: 'Congo'},
						'Comoros': {column: 'Comoros'},
						'Cabo Verde': {column: 'Cabo_Verde'},
						'Algeria': {column: 'Algeria'},
						'Eritrea': {column: 'Eritrea'},
						'Ethiopia': {column: 'Ethiopia'},
						'Gabon': {column: 'Gabon'},
						'Ghana': {column: 'Ghana'},
						'Guinea': {column: 'Guinea'},
						'Gambia': {column: 'Gambia'},
						'Guinea-Bissau': {column: 'Guinea-Bissau'},
						'Equatorial Guinea': {column: 'Equatorial_Guinea'},
						'Kenya': {column: 'Kenya'},
						'Liberia': {column: 'Liberia'},
						'Lesotho': {column: 'Lesotho'},
						'Madagascar': {column: 'Madagascar'},
						'Mali': {column: 'Mali'},
						'Mozambique': {column: 'Mozambique'},
						'Mauritania': {column: 'Mauritania'},
						'Mauritius': {column: 'Mauritius'},
						'Malawi': {column: 'Malawi'},
						'Namibia': {column: 'Namibia'},
						'Niger': {column: 'Niger'},
						'Nigeria': {column: 'Nigeria'},
						'Rwanda': {column: 'Rwanda'},
						'Senegal': {column: 'Senegal'},
						'Sierra Leone': {column: 'Sierra_Leone'},
						'South Sudan': {column: 'South_Sudan'},
						'Sao Tome and Principe': {column: 'Sao_Tome_and_Principe'},
						'Kingdom of Eswatini': {column: 'Kingdom_of_Eswatini'},
						'Seychelles': {column: 'Seychelles'},
						'Chad': {column: 'Chad'},
						'Togo': {column: 'Togo'},
						'United Republic of Tanzania': {column: 'United_Republic_of_Tanzania'},
						'Uganda': {column: 'Uganda'},
						'South Africa': {column: 'South_Africa'},
						'Zambia': {column: 'Zambia'},
						'Zimbabwe': {column: 'Zimbabwe'},
						'Argentina': {column: 'Argentina'},
						'Antigua and Barbuda': {column: 'Antigua_and_Barbuda'},
						'Bahamas': {column: 'Bahamas'},
						'Belize': {column: 'Belize'},
						'Bolivia (Plurinational State of)': {column: 'Bolivia'},
						'Brazil': {column: 'Brazil'},
						'Barbados': {column: 'Barbados'},
						'Canada': {column: 'Canada'},
						'Chile': {column: 'Chile'},
						'Colombia': {column: 'Colombia'},
						'Costa Rica': {column: 'Costa_Rica'},
						'Cuba': {column: 'Cuba'},
						'Dominica': {column: 'Dominica'},
						'Dominican Republic': {column: 'Dominican_Republic'},
						'Ecuador': {column: 'Ecuador'},
						'Grenada': {column: 'Grenada'},
						'Guatemala': {column: 'Guatemala'},
						'Guyana': {column: 'Guyana'},
						'Honduras': {column: 'Honduras'},
						'Haiti': {column: 'Haiti'},
						'Jamaica': {column: 'Jamaica'},
						'Saint Kitts and Nevis': {column: 'Saint_Kitts_and_Nevis'},
						'Saint Lucia': {column: 'Saint_Lucia'},
						'Mexico': {column: 'Mexico'},
						'Nicaragua': {column: 'Nicaragua'},
						'Panama': {column: 'Panama'},
						'Peru': {column: 'Peru'},
						'Paraguay': {column: 'Paraguay'},
						'El Salvador': {column: 'El_Salvador'},
						'Suriname': {column: 'Suriname'},
						'Trinidad and Tobago': {column: 'Trinidad_and_Tobago'},
						'Uruguay': {column: 'Uruguay'},
						'United States of America': {column: 'United_States_of_America'},
						'Saint Vincent and the Grenadines': {column: 'Saint_Vincent_and_the_Grenadines'},
						'Venezuela (Bolivarian Republic of)': {column: 'Venezuela'},
						'Afghanistan': {column: 'Afghanistan'},
						'United Arab Emirates': {column: 'United_Arab_Emirates'},
						'Bahrain': {column: 'Bahrain'},
						'Djibouti': {column: 'Djibouti'},
						'Egypt': {column: 'Egypt'},
						'Iran (Islamic Republic of)': {column: 'Iran'},
						'Iraq': {column: 'Iraq'},
						'Jordan': {column: 'Jordan'},
						'Kuwait': {column: 'Kuwait'},
						'Lebanon': {column: 'Lebanon'},
						'Libya': {column: 'Libya'},
						'Morocco': {column: 'Morocco'},
						'Oman': {column: 'Oman'},
						'Pakistan': {column: 'Pakistan'},
						'Qatar': {column: 'Qatar'},
						'Saudi Arabia': {column: 'Saudi_Arabia'},
						'Sudan': {column: 'Sudan'},
						'Somalia': {column: 'Somalia'},
						'Syrian Arab Republic': {column: 'Syrian_Arab_Republic'},
						'Tunisia': {column: 'Tunisia'},
						'Yemen': {column: 'Yemen'},
						'Albania': {column: 'Albania'},
						'Andorra': {column: 'Andorra'},
						'Armenia': {column: 'Armenia'},
						'Austria': {column: 'Austria'},
						'Azerbaijan': {column: 'Azerbaijan'},
						'Belgium': {column: 'Belgium'},
						'Bulgaria': {column: 'Bulgaria'},
						'Bosnia and Herzegovina': {column: 'Bosnia_and_Herzegovina'},
						'Belarus': {column: 'Belarus'},
						'Switzerland': {column: 'Switzerland'},
						'Cyprus': {column: 'Cyprus'},
						'Czech Republic': {column: 'Czech_Republic'},
						'Germany': {column: 'Germany'},
						'Denmark': {column: 'Denmark'},
						'Spain': {column: 'Spain'},
						'Estonia': {column: 'Estonia'},
						'Finland': {column: 'Finland'},
						'France': {column: 'France'},
						'United Kingdom of Great Britain and Northern Ireland': {column: 'United_Kingdom_of_Great_Britain_and_Northern_Ireland'},
						'Georgia': {column: 'Georgia'},
						'Greece': {column: 'Greece'},
						'Croatia': {column: 'Croatia'},
						'Hungary': {column: 'Hungary'},
						'Ireland': {column: 'Ireland'},
						'Iceland': {column: 'Iceland'},
						'Israel': {column: 'Israel'},
						'Italy': {column: 'Italy'},
						'Kazakhstan': {column: 'Kazakhstan'},
						'Kyrgyzstan': {column: 'Kyrgyzstan'},
						'Lithuania': {column: 'Lithuania'},
						'Luxembourg': {column: 'Luxembourg'},
						'Latvia': {column: 'Latvia'},
						'Monaco': {column: 'Monaco'},
						'Republic of Moldova': {column: 'Republic_of_Moldova'},
						'The Republic of North Macedonia ': {column: 'The_Republic_of_North_Macedonia_'},
						'Malta': {column: 'Malta'},
						'Montenegro': {column: 'Montenegro'},
						'Netherlands': {column: 'Netherlands'},
						'Norway': {column: 'Norway'},
						'Poland': {column: 'Poland'},
						'Portugal': {column: 'Portugal'},
						'Romania': {column: 'Romania'},
						'Russian Federation': {column: 'Russian_Federation'},
						'San Marino': {column: 'San_Marino'},
						'Serbia': {column: 'Serbia'},
						'Slovakia': {column: 'Slovakia'},
						'Slovenia': {column: 'Slovenia'},
						'Sweden': {column: 'Sweden'},
						'Tajikistan': {column: 'Tajikistan'},
						'Turkmenistan': {column: 'Turkmenistan'},
						'Turkey': {column: 'Turkey'},
						'Ukraine': {column: 'Ukraine'},
						'Uzbekistan': {column: 'Uzbekistan'},
						'Bangladesh': {column: 'Bangladesh'},
						'Bhutan': {column: 'Bhutan'},
						'Indonesia': {column: 'Indonesia'},
						'India': {column: 'India'},
						'Sri Lanka': {column: 'Sri_Lanka'},
						'Maldives': {column: 'Maldives'},
						'Myanmar': {column: 'Myanmar'},
						'Nepal': {column: 'Nepal'},
						'Democratic Peoples Republic of Korea': {column: 'Democratic_People_s_Republic_of_Korea'},
						'Thailand': {column: 'Thailand'},
						'Timor-Leste': {column: 'Timor-Leste'},
						'Australia': {column: 'Australia'},
						'Brunei Darussalam': {column: 'Brunei_Darussalam'},
						'China': {column: 'China'},
						'Cook Islands': {column: 'Cook_Islands'},
						'Fiji': {column: 'Fiji'},
						'Micronesia (Federated States of)': {column: 'Micronesia'},
						'Japan': {column: 'Japan'},
						'Cambodia': {column: 'Cambodia'},
						'Kiribati': {column: 'Kiribati'},
						'Republic of Korea': {column: 'Republic_of_Korea'},
						'Lao Peoples Democratic Republic': {column: 'Lao_People_s_Democratic_Republic'},
						'Marshall Islands': {column: 'Marshall_Islands'},
						'Mongolia': {column: 'Mongolia'},
						'Malaysia': {column: 'Malaysia'},
						'Niue': {column: 'Niue'},
						'Nauru': {column: 'Nauru'},
						'New Zealand': {column: 'New_Zealand'},
						'Philippines': {column: 'Philippines'},
						'Palau': {column: 'Palau'},
						'Papua New Guinea': {column: 'Papua_New_Guinea'},
						'Singapore': {column: 'Singapore'},
						'Solomon Islands': {column: 'Solomon_Islands'},
						'Tonga': {column: 'Tonga'},
						'Tuvalu': {column: 'Tuvalu'},
						'Viet Nam': {column: 'Viet_Nam'},
						'Vanuatu': {column: 'Vanuatu'},
						'Samoa': {column: 'Samoa'}
					}, {xAxis: 'Year', yAxis: 'Cases'});
					chart.bind("#chart-line1");
				    chart.render();


				});
			</script> -->

			<!-- This was a reference to the script but we're gonna try to just paste it here and see how it goes
			<script src="scripts/multiline.js" charset="utf-8"></script> -->

			

			<script type="text/javascript">
				function makeLineChart(dataset, xName, yObjs, axisLables) {
				    var chartObj = {};
				    var color = d3.scale.category10();
				    chartObj.xAxisLable = axisLables.xAxis;
				    chartObj.yAxisLable = axisLables.yAxis;
				    /*
				     yObjsects format:
				     {y1:{column:'',name:'name',color:'color'},y2}
				     */

				    chartObj.data = dataset;
				    chartObj.margin = {top: 15, right: 60, bottom: 30, left: 50};
				    chartObj.width = 650 - chartObj.margin.left - chartObj.margin.right;
				    chartObj.height = 480 - chartObj.margin.top - chartObj.margin.bottom;

				// So we can pass the x and y as strings when creating the function
				    chartObj.xFunct = function(d){return d[xName]};

				// For each yObjs argument, create a yFunction
				    function getYFn(column) {
				        return function (d) {
				            return d[column];
				        };
				    }

				// Object instead of array
				    chartObj.yFuncts = [];
				    for (var y  in yObjs) {
				        yObjs[y].name = y;
				        yObjs[y].yFunct = getYFn(yObjs[y].column); //Need this  list for the ymax function
				        chartObj.yFuncts.push(yObjs[y].yFunct);
				    }

				//Formatter functions for the axes
				    chartObj.formatAsDate = d3.time.format("%Y-%m-%d");
				    chartObj.formatAsNumber = d3.format(".0f");
				    chartObj.formatAsDecimal = d3.format(".2f");
				    chartObj.formatAsCurrency = d3.format("$.2f");
				    chartObj.formatAsFloat = function (d) {
				        if (d % 1 !== 0) {
				            return d3.format(".2f")(d);
				        } else {
				            return d3.format(".0f")(d);
				        }
				        
				    };

				    chartObj.xFormatter = chartObj.formatAsDate;
				    chartObj.yFormatter = chartObj.formatAsFloat;

				    chartObj.bisectYear = d3.bisector(chartObj.xFunct).left; //< Can be overridden in definition

				//Create scale functions
				    // chartObj.xScale = d3.scale.linear().range([0, chartObj.width]).domain(d3.extent(chartObj.data, chartObj.xFunct)); //< Can be overridden in definition
				    chartObj.xScale = d3.time.scale().range([0, chartObj.width]).domain(d3.extent(chartObj.data, chartObj.xFunct));    // values between for month of january

				// Get the max of every yFunct
				    chartObj.max = function (fn) {
				        return d3.max(chartObj.data, fn);
				    };
				    chartObj.yScale = d3.scale.linear().range([chartObj.height, 0]).domain([0, d3.max(chartObj.yFuncts.map(chartObj.max))]);

				//Create axis
				    chartObj.xAxis = d3.svg.axis().scale(chartObj.xScale).orient("bottom") .tickFormat(chartObj.xFormatter); //< Can be overridden in definition

				    chartObj.yAxis = d3.svg.axis().scale(chartObj.yScale).orient("left").tickFormat(chartObj.yFormatter); //< Can be overridden in definition


				// Build line building functions
				    function getYScaleFn(yObj) {
				        return function (d) {
				            return chartObj.yScale(yObjs[yObj].yFunct(d));
				        };
				    }
				    for (var yObj in yObjs) {
				        yObjs[yObj].line = d3.svg.line().interpolate("cardinal").x(function (d) {
				            return chartObj.xScale(chartObj.xFunct(d));
				        }).y(getYScaleFn(yObj));
				    }
				    

				    chartObj.svg;

				// Change chart size according to window size
				    chartObj.update_svg_size = function () {
				        chartObj.width = parseInt(chartObj.chartDiv.style("width"), 10) - (chartObj.margin.left + chartObj.margin.right);

				        chartObj.height = parseInt(chartObj.chartDiv.style("height"), 10) - (chartObj.margin.top + chartObj.margin.bottom);

				        /* Update the range of the scale with new width/height */
				        chartObj.xScale.range([0, chartObj.width]);
				        chartObj.yScale.range([chartObj.height, 0]);

				        if (!chartObj.svg) {return false;}

				        /* Else Update the axis with the new scale */
				        chartObj.svg.select('.x.axis').attr("transform", "translate(0," + chartObj.height + ")").call(chartObj.xAxis);
				        chartObj.svg.select('.x.axis .label').attr("x", chartObj.width / 2);

				        chartObj.svg.select('.y.axis').call(chartObj.yAxis);
				        chartObj.svg.select('.y.axis .label').attr("x", -chartObj.height / 2);

				        /* Force D3 to recalculate and update the line */
				        for (var y  in yObjs) {
				            yObjs[y].path.attr("d", yObjs[y].line);
				        }
				        

				        d3.selectAll(".focus.line").attr("y2", chartObj.height);

				        chartObj.chartDiv.select('svg').attr("width", chartObj.width + (chartObj.margin.left + chartObj.margin.right)).attr("height", chartObj.height + (chartObj.margin.top + chartObj.margin.bottom));

				        chartObj.svg.select(".overlay").attr("width", chartObj.width).attr("height", chartObj.height);
				        return chartObj;
				    };

				    chartObj.bind = function (selector) {
				        chartObj.mainDiv = d3.select(selector);
				        // Add all the divs to make it centered and responsive
				        chartObj.mainDiv.append("div").attr("class", "inner-wrapper").append("div").attr("class", "outer-box").append("div").attr("class", "inner-box");
				        chartSelector = selector + " .inner-box";
				        chartObj.chartDiv = d3.select(chartSelector);
				        d3.select(window).on('resize.' + chartSelector, chartObj.update_svg_size);
				        chartObj.update_svg_size();
				        return chartObj;
				    };

				// Render the chart
				    chartObj.render = function () {
				        //Create SVG element
				        chartObj.svg = chartObj.chartDiv.append("svg").attr("class", "chart-area").attr("width", chartObj.width + (chartObj.margin.left + chartObj.margin.right)).attr("height", chartObj.height + (chartObj.margin.top + chartObj.margin.bottom)).append("g").attr("transform", "translate(" + chartObj.margin.left + "," + chartObj.margin.top + ")");

				        // Draw Lines
				        for (var y  in yObjs) {
				            yObjs[y].path = chartObj.svg.append("path").datum(chartObj.data).attr("class", "line").attr("d", yObjs[y].line).style("stroke", color(y)).attr("data-series", y).on("mouseover", function () {
				                focus.style("display", null);
				            }).on("mouseout", function () {
				                focus.transition().delay(700).style("display", "none");
				            }).on("mousemove", mousemove);
				        }
				        

				        // Draw Axis
				        chartObj.svg.append("g").attr("class", "x axis").attr("transform", "translate(0," + chartObj.height + ")").call(chartObj.xAxis).append("text").attr("class", "label").attr("x", chartObj.width / 2).attr("y", 30).style("text-anchor", "middle").text(chartObj.xAxisLable);

				        chartObj.svg.append("g").attr("class", "y axis").call(chartObj.yAxis).append("text").attr("class", "label").attr("transform", "rotate(-90)").attr("y", -42).attr("x", -chartObj.height / 2).attr("dy", ".71em").style("text-anchor", "middle").text(chartObj.yAxisLable);

				        //Draw tooltips
				        var focus = chartObj.svg.append("g").attr("class", "focus").style("display", "none");

				        for (var y  in yObjs) {
				            yObjs[y].tooltip = focus.append("g");
				            yObjs[y].tooltip.append("circle").attr("r", 5);
				            yObjs[y].tooltip.append("rect").attr("x", 8).attr("y","-5").attr("width",22).attr("height",'0.75em');
				            yObjs[y].tooltip.append("text").attr("x", 9).attr("dy", ".35em");
				        }

				        // Year label
				        focus.append("text").attr("class", "focus year").attr("x", 9).attr("y", 7);
				        // Focus line
				        focus.append("line").attr("class", "focus line").attr("y1", 0).attr("y2", chartObj.height);

				        //Draw legend
				        var legend = chartObj.mainDiv.append('div').attr("class", "legend");
				        for (var y  in yObjs) {
				            series = legend.append('div');
				            series.append('div').attr("class", "series-marker").style("background-color", color(y));
				            series.append('p').text(y);
				            yObjs[y].legend = series;
				        }

				        // Overlay to capture hover
				        chartObj.svg.append("rect").attr("class", "overlay").attr("width", chartObj.width).attr("height", chartObj.height).on("mouseover", function () {
				            focus.style("display", null);
				        }).on("mouseout", function () {
				            focus.style("display", "none");
				        }).on("mousemove", mousemove);

				        return chartObj;
				        function mousemove() {
				            var x0 = chartObj.xScale.invert(d3.mouse(this)[0]), i = chartObj.bisectYear(dataset, x0, 1), d0 = chartObj.data[i - 1], d1 = chartObj.data[i];
				            try {
				                var d = x0 - chartObj.xFunct(d0) > chartObj.xFunct(d1) - x0 ? d1 : d0;
				            } catch (e) { return;}
				            minY = chartObj.height;
				            for (var y  in yObjs) {
				                yObjs[y].tooltip.attr("transform", "translate(" + chartObj.xScale(chartObj.xFunct(d)) + "," + chartObj.yScale(yObjs[y].yFunct(d)) + ")");
				                yObjs[y].tooltip.select("text").text(chartObj.yFormatter(yObjs[y].yFunct(d)));
				                minY = Math.min(minY, chartObj.yScale(yObjs[y].yFunct(d)));
				            }

				            focus.select(".focus.line").attr("transform", "translate(" + chartObj.xScale(chartObj.xFunct(d)) + ")").attr("y1", minY);
				            focus.select(".focus.year").text("Year: " + chartObj.xFormatter(chartObj.xFunct(d)));
				        }

				    };
				    return chartObj;
				}

			</script>

			<p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem. Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur? Quis autem vel eum iure reprehenderit qui in ea voluptate velit esse quam nihil molestiae consequatur, vel illum qui dolorem eum fugiat quo voluptas nulla pariatur?</p>
					


<!-- 					this is a final div
					<div class="flex flex-2">
						<article>
							<div class="image fit">
								<img src="images/pic01.jpg" alt="Pic 01" />
							</div>
							<header>
								<h3>Praesent placerat magna</h3>
							</header>
							<p>Praesent dapibus, neque id cursus faucibus, tortor neque egestas augue, eu vulputate magna eros eu erat. Aliquam erat volutpat. Nam dui mi, tincidunt quis, accumsan porttitor lorem ipsum.</p>
							<footer>
								<a href="#" class="button special">More</a>
							</footer>
						</article>
						<article>
							<div class="image fit">
								<img src="images/pic02.jpg" alt="Pic 02" />
							</div>
							<header>
								<h3>Fusce pellentesque tempus</h3>
							</header>
							<p>Sed adipiscing ornare risus. Morbi est est, blandit sit amet, sagittis vel, euismod vel, velit. Pellentesque egestas sem. Suspendisse commodo ullamcorper magna non comodo sodales tempus.</p>
							<footer>
								<a href="#" class="button special">More</a>
							</footer>
						</article>
					</div> -->

				</div>
			</section>

		<!-- Footer -->
			<footer id="footer">
				<div class="inner">
					<div class="flex">
						<div class="copyright">
							&copy; Untitled. Design: <a href="https://templated.co">TEMPLATED</a>. Images: <a href="https://unsplash.com">Unsplash</a>.
						</div>
						<ul class="icons">
							<li><a href="#" class="icon fa-facebook"><span class="label">Facebook</span></a></li>
							<li><a href="#" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
							<li><a href="#" class="icon fa-linkedin"><span class="label">linkedIn</span></a></li>
							<li><a href="#" class="icon fa-pinterest-p"><span class="label">Pinterest</span></a></li>
							<li><a href="#" class="icon fa-vimeo"><span class="label">Vimeo</span></a></li>
						</ul>
					</div>
				</div>
			</footer>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>